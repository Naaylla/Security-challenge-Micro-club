<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>login</title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>

    <div class="container">
        <img class="bg" src="bruno-leschi-El-egS_h_N4-unsplash.jpg">
        <div class="overlay"></div>
    </div>
    
    <div class="bloc">
        <div class="margin">
            <h3>Email:</h3>
            <input id="emailInput" type="email" placeholder="Email ex: hello@gmail.com">
        </div>
    
        <div class="margin">
            <br><h3>Password:</h3>
            <input id="passwordInput" type="password" placeholder="password">
        </div>
    
        <br><button id="loginButton" class="but" disabled onclick="login()">Login</button>
    
        <script>
        
            function checkInputs() {
                var emailInput = document.getElementById('emailInput');
                var passwordInput = document.getElementById('passwordInput');
                var loginButton = document.getElementById('loginButton');
    
                if (emailInput.value.trim() !== '' && passwordInput.value.trim() !== '') {
                    loginButton.removeAttribute('disabled');
                } else {
                    loginButton.setAttribute('disabled', 'true');
                }
            }

    
            // Add event listeners to the input fields
            document.getElementById('emailInput').addEventListener('input', checkInputs);
            document.getElementById('passwordInput').addEventListener('input', checkInputs);


            document.getElementById('loginButton').addEventListener('click', function(event) {
                event.preventDefault();

                var emailValue = document.getElementById('emailInput').value.trim();
                var passwordValue = document.getElementById('passwordInput').value.trim();

                fetch('http://127.0.0.1:1880/login', {
                    method: 'POST', 
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: emailValue,
                        password: passwordValue,}), 
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                })
                .catch((error) => console.log('Error:', error));
            });

        </script>
    </div>
    
</body>
</html>