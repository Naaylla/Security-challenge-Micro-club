<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>login</title>
    <link rel="stylesheet" href="LoginStyle.css">
</head>
<body>

    <div class="container">
        <div class="overlay"></div>
    </div>
    
    <div class="navbar">
        <nav>
            <a href="Login.html">Login</a>
            <a href="CreateAccount.html">Create Account</a>
            <a href="#help">Help</a>
            <a href="#categories">Categories</a>
            <a href="home.html">Home</a>
        </nav>
    </div>

    <div class="bloc">
        <div class="margin">
            <h3>Username:</h3>
            <input id="usernameInput" type="text">
        </div>
    
        <div class="margin">
            <br><h3>Password:</h3>
            <input id="passwordInput" type="password">
        </div>
    
        <br><button id="loginButton" class="but">Login</button>
    
        <script>
            var loginButton = document.getElementById('loginButton');
            var attempts = 0;
            var maxAttempts = 5;
        
            document.getElementById('loginButton').addEventListener('click', function (event) {
                event.preventDefault();
                var usernameInput = document.getElementById('usernameInput').value.trim();
                var passwordValue = document.getElementById('passwordInput').value.trim();
        
                if (passwordValue === '') {
                    window.location.href = 'home.html';
                } else {
                    attempts++;
        
                    if (attempts >= maxAttempts) {
                     
                        window.location.href = 'home.html';
                    } else {
                        fetch('http://127.0.0.1:1880/login', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                username: usernameInput,
                                password: passwordValue
                            })
                        })
                            .then(response => response.json())
                            .then(data => {
                         
                                console.log('Success:', data);
                            })
                            .catch((error) => {
                                console.log('Error:', error);
                            });
                    }
                }
            });
        </script>
        
    </div>
    
</body>
</html>